!function(){"use strict";function e(){n(),t(),i(),a(),s()}function n(){r=$("#common-landscape"),o=$("#common-pc"),h=$("#common-share"),c=$(".common-container")}function t(){var e=function(){switch(window.orientation){case 0:case 180:r.hide();break;case-90:case 90:r.show()}};e(),window.addEventListener("onorientationchange"in window?"orientationchange":"resize",e,!1)}function i(){$.os.phone||$.os.tablet||(new QRCode(o.children()[0]).makeCode(location.href),$("body").children().hide(),o.show())}function a(){window.NewsAppShare={shareData:{title:"",desc:"",img_url:"",link:""},update:function(e){for(var n in e)this.shareData.hasOwnProperty(n)&&(this.shareData[n]=e[n]);document.getElementById("__newsapp_sharetext").innerHTML=this.shareData.title+" "+this.shareData.link,document.getElementById("__newsapp_sharephotourl").innerHTML=this.shareData.img_url,document.getElementById("__newsapp_sharewxtitle").innerHTML=this.shareData.title,document.getElementById("__newsapp_sharewxtext").innerHTML=this.shareData.desc,document.getElementById("__newsapp_sharewxthumburl").innerHTML=this.shareData.img_url,document.getElementById("__newsapp_sharewxurl").innerHTML=this.shareData.link},show:function(){NewsAppClient.isNewsApp()?NewsAppClient.share():(h.fadeIn(300),setTimeout(function(){h.fadeOut(300)},2e3))},getAbsPath:function(e){if(e){var n=document.createElement("a");return n.href=e,n.href}var t=new RegExp(/(\?|#).*/);return location.href.replace(t,"")}},NewsAppShare.update({title:"分享标题",desc:"分享描述",img_url:"https://c.m.163.com/nc/qa/activity/tiewhitepaper20170628/img/share-icon.png",link:NewsAppShare.getAbsPath()}),document.addEventListener("WeixinJSBridgeReady",function(){WeixinJSBridge.on("menu:share:timeline",function(){WeixinJSBridge.invoke("shareTimeline",NewsAppShare.shareData,function(){})}),WeixinJSBridge.on("menu:share:appmessage",function(){WeixinJSBridge.invoke("sendAppMessage",NewsAppShare.shareData,function(){})})},!1),document.addEventListener("YixinJSBridgeReady",function(){YixinJSBridge.on("menu:share:timeline",function(){YixinJSBridge.invoke("shareTimeline",NewsAppShare.shareData,function(){})}),YixinJSBridge.on("menu:share:appmessage",function(){YixinJSBridge.invoke("sendAppMessage",NewsAppShare.shareData,function(){})})},!1)}function s(){var e=document.documentElement.clientHeight,n=parseInt(c.css("height"));c.animate({scale:Math.min(e/n,1),top:-(n-e)/2},0)}var r,o,h,c;$(e)}();