<!DOCTYPE HTML>
<html lang="en-US">
<head>
	<meta charset="UTF-8">
	<title>这个 + 那个</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0,  minimum-scale=1.0, maximum-scale=1.0">
	<style type="text/css">
		html,body{height: 100%;}*{margin: 0;padding: 0;font-family: "微软雅黑";line-height: 1;}
		.top,.btm{height: 33.3%;text-align: center;color: #fff;font-size:2em;display: -webkit-flex;}
		.top{background: #46C579;}.btm{background: #3CAC69;}
		.btn{height:33.3%;font-family: Arial;font-size: 2em;text-align: center;display: -webkit-flex;}
		p{margin: auto;}
		.btn p{padding: 0 2em;border:1px solid #3CAC69;border-radius: 2em;line-height: 2em;color: #3CAC69;}
	</style>
	<script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.8.0.js"></script>
</head>
<body>
	<div class="top" id="top"><p id="p1">土豆</p></div>
	<div class="btm" id="btm"><p id="p2">好吃</p></div>
	<div class="btn" id="btn">
		<p onclick="shake()">shake</p>
	</div>
	<script type="text/javascript">
		var _char = [ "高速铁路","达·芬奇","存款","火腿","杀人游戏","自驾游","玄关","文化遗产","队长","报纸","移动","编程","等级","点数","文章","匿名","银行","杂志","灰色","法律","功能","海参","股票","新秀","场所","单身公寓","舞蹈","线索"];
		function shake(){
			var i = parseInt(_char.length*Math.random());
			$("#p1").html(_char[i]);
			var j = parseInt(_char.length*Math.random());
			$("#p2").html(_char[j]);
		};
		// 滑动事件
		function touches(obj,direction,fun){
			//obj:ID对象
			//direction:swipeleft,swiperight,swipetop,swipedown,singleTap,touchstart,touchmove,touchend
			//          划左，    划右，     划上，   划下，    点击，    开始触摸， 触摸移动， 触摸结束
			//fun:回调函数
			var defaults = {x: 5,y: 5,ox:0,oy:0,nx:0,ny:0};
			direction=direction.toLowerCase();
			//配置：划的范围在5X5像素内当点击处理
			obj.addEventListener("touchstart",function() {
				defaults.ox = event.targetTouches[0].pageX;
				defaults.oy = event.targetTouches[0].pageY;
				defaults.nx = defaults.ox;
				defaults.ny = defaults.oy;
				if(direction.indexOf("touchstart")!=-1)fun();
			}, false);
			obj.addEventListener("touchmove",function() {
				event.preventDefault();
				defaults.nx = event.targetTouches[0].pageX;
				defaults.ny = event.targetTouches[0].pageY;
				if(direction.indexOf("touchmove")!=-1)fun();
			}, false);
			obj.addEventListener("touchend",function() {
				var changeY = defaults.oy - defaults.ny;
				var changeX = defaults.ox - defaults.nx;
				if(Math.abs(changeX)>Math.abs(changeY)&&Math.abs(changeY)>defaults.y){
					//左右事件
					if(changeX > 0) {
						if(direction.indexOf("swipeleft")!=-1)fun();
					}else{
						if(direction.indexOf("swiperight")!=-1)fun();
					}
				}else if(Math.abs(changeY)>Math.abs(changeX)&&Math.abs(changeX)>defaults.x){
					//上下事件
					if(changeY > 0) {
						if(direction.indexOf("swipetop")!=-1)fun();
					}else{
						if(direction.indexOf("swipedown")!=-1)fun();
					}
				}else{
					//点击事件
					if(direction.indexOf("singleTap")!=-1)fun();
				}
				if(direction.indexOf("touchend")!=-1)fun();
			}, false);
		};
		touches($("#p1"),"swipeleft",alert("left"));
		touches($("#p1"),"swiperight",alert("right"));
	</script>
</body>
</html>